(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{281:function(e,t,n){"use strict";n.r(t);var r=n(9),c=(n(58),n(327)),o=n.n(c),l=n(340),d=n.n(l),h=n(349),f=n(346),w=n.n(f),m=n(347),x=n(348),v={name:"Topside",computed:{web3Injected:function(){return"undefined"!=typeof web3}},data:function(){return{account:null,web3Obj:new o.a(o.a.givenProvider||"https://bsc-dataseed.binance.org"),busdBalance:0,shibaBalance:0,shibaContractAddress:"0x52941a733F7bAb6E52d5c8f2045c9D9D9eA246Ff",busdContractAddress:"0xe9e7cea3dedca5984780bafc599bd69add087d56",shibaContract:null,busdContract:null,shibaAbi:m.abi,busdAbi:x.abi,networkId:"1",web3Modal:null}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.web3Modal=new d.a({cacheProvider:!1,providerOptions:{walletconnect:{package:h.a,options:{infuraId:"8043bb2cf99347b1bfadfb233c5325c0"}},fortmatic:{package:w.a,options:{key:"pk_test_391E26A3B43A3350"}}}});case 1:case"end":return t.stop()}}),t)})))()},methods:{networkChanged:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.networkId=e,56!=e){n.next=22;break}if(null!=t.account){n.next=4;break}return n.abrupt("return");case 4:return t.web3Obj=new o.a("https://bsc-dataseed.binance.org"),t.shibaContract=new t.web3Obj.eth.Contract(t.shibaAbi,o.a.utils.toChecksumAddress(t.shibaContractAddress)),n.next=8,t.shibaContract.methods.balanceOf(t.account).call();case 8:return r=n.sent,console.log(r),t.shibaBalance=Math.round(100*o.a.utils.fromWei(r,"ether"))/100,t.busdContract=new t.web3Obj.eth.Contract(t.busdAbi,o.a.utils.toChecksumAddress(t.busdContractAddress)),n.next=14,t.busdContract.methods.balanceOf(t.account).call();case 14:return c=n.sent,t.busdBalance=Math.round(100*o.a.utils.fromWei(c,"ether"))/100,n.next=18,t.storeItem("shibaBalance",t.shibaBalance);case 18:return n.next=20,t.storeItem("busdBalance",t.busdBalance);case 20:n.next=24;break;case 22:return n.next=24,t.switchNetwork();case 24:case"end":return n.stop()}}),n)})))()},storeItem:function(e,t){return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:localStorage.setItem(e,t);case 1:case"end":return n.stop()}}),n)})))()},removeItem:function(e){localStorage.removeItem(e)},getAccountData:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new o.a(e),n.next=3,r.eth.getAccounts();case 3:if(!((c=n.sent).length>0)){n.next=8;break}return t.account=c[0],n.next=8,t.networkChanged(56);case 8:case"end":return n.stop()}}),n)})))()},connectWallet:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.web3Modal.connect();case 3:return n=t.sent,t.next=6,e.getAccountData(n);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),console.log("Could not get a wallet connection",t.t0),t.abrupt("return");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},switchNetwork:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},k=n(45),component=Object(k.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-full bg-white flex justify-between border-2 border-gray-300"},[n("div"),e._v(" "),n("div",{staticClass:"flex"},[e.web3Injected?e.account?n("div",{staticClass:"bg-purple-800 mt-6 mb-6 mx-5 text-white px-5 py-2 rounded-lg cursor-pointer"},[e._v(e._s(this.account.substring(0,6)+"..."+this.account.substring(this.account.length-4,this.account.length)))]):n("div",{staticClass:"bg-purple-800 mt-6 mb-6 mx-5 text-white px-3 py-2 rounded-lg cursor-pointer",on:{click:e.connectWallet}},[e._v("Connect Wallet")]):n("div",{staticClass:"bg-purple-800 mt-6 mb-6 mx-5 text-white px-5 py-2 rounded-lg cursor-pointer",on:{click:e.connectWallet}},[e._v("Connect Wallet")])])])}),[],!1,null,null,null);t.default=component.exports}}]);